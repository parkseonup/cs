# 4.3. 다중 큐

## 준비 상태의 다중 큐

- 프로세스 제어 블록에 작성된 프로세스 우선순위에 따라 프로세스를 관리하는 방법이다.
- 우선순위별로 여러 개의 준비 큐가 만들어진다.
- 프로세스는 준비 상태에 들어갈 때 자신의 우선순위에 해당하는 큐의 마지막에 삽입된다.

### 우선순위를 배정하는 방식

#### 고정 우선순위 방식(static priority)

- 운영체제가 프로세스에 우선순위를 부여하면 프로세스가 끝날 때까지 바뀌지 않는 방식
- 변동이 없기 때문에 구현은 쉬우나, 시스템의 변화에 대응하기 어려워 작업의 효율성이 떨어진다.

#### 변동 우선 순위 방식(dynamic priority)

- 프로세스 생성 시 부여받은 우선순위가 프로세스 작업 중간에 변하는 방식
- 구현은 어려우나 시스템의 효율성을 높일 수 있다.
  - 예시: 우선순위가 낮으나 중요한 자원을 사용하고 있는 프로세스가 있다면, 해당 프로세스가 자원을 독점하여 사용하기 때문에 해당 자원을 사용하려는 다른 프로세스는 해당 프로세스가 끝날 때까지 오래 대기해야 한다. 중요 자원을 사용하고 있는 프로세스의 우선순위를 높여 더 빨리 작업을 끝내도록 하면, 다른 프로세스의 작업도 원활하게 진행할 수 있다.

## 대기 상태의 다중 큐

- 대기 상태는 입출력이 완료되기를 기다리는 프로세스가 모인 곳으로, 같은 입출력을 요구한 프로세스끼리 모아 큐로 관리한다.
- 한번에 하나의 프로세스만 옮겨지는 준비 상태의 다중 큐와 달리, 대기 상태의 준비 큐는 여러 개의 프로세스 제어 블록을 동시에 꺼내어 준비 상태로 옮긴다.
  - 다양한 입출력장치가 있으므로 입출력이 동시에 끝날 경우 여러 개의 인터럽트가 한번에 처리됨
  - 동시에 끝나는 인털럽트를 처리하기 위해 인터럽트 백터(interrupt vector) 자료구조를 사용함.
  - 인터럽트 벡터에 담긴 동시에 완료된 입출력 정보와 처리 방법에 따라 완료된 프로세스 제어 블록이 모두 준비 상태로 이동함.
- 입출력장치는 작업 속도를 높이기 위해 작업 순서를 뒤바뀌기도 한다. 이때는 나중에 요청된 작업이 먼저 처리되기도 한다.
