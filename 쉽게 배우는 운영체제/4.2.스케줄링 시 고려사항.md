# 4.2. 스케줄링 시 고려사항

## 1. 선점형 스케줄링과 비선점형 스케줄링

### 선점형 스케줄링(preemptive scheduling)

- 어떤 프로세스가 CPU를 할당받아 실행 중이더라도 운영체제가 CPU를 강제로 빼앗을 수 있는 스케줄링 방식
- 선점형 스케줄링에서는 운영체제가 필요하다고 판단하면 실행 상태에 있는 프로세스의 작업을 중단시키고 새로운 작업을 시작할 수 있다.
- 문맥 교환 같은 부가적인 작업으로 낭비가 생긴다는 단점이 있다.
- 선점형 스케줄링에서는 하나의 프로세스가 CPU를 독점할 수 없기 때문에, 빠른 응답 시간을 요구하는 대화형 시스템이나 시분할 시스템에 적합하다.
- 대부분의 저수준 스케줄러는 선점형 스케줄링 방식을 사용한다.
- 예시: 인터럽트 처리

### 비선점형 스케줄링(non-preemptive scheduling)

- 어떤 프로세스가 CPU를 점유하면 다른 프로세스가 이를 빼앗을 수 없는 스케줄링 방식
- 비선점형 스케줄링에서는 어떤 프로세스가 실행 상태에 들어가 CPU를 사용하면 그 프로세스가 종료되거나 자발적으로 대기 상태에 들어가기 전까지는 계속 실행된다.
- 선점형 스케줄링에 비해 스케줄러의 작업량이 적고 문맥 교환에 의한 낭비도 적다.
- CPU 사용이 짧은 여러 프로세스가 CPU 사용이 긴 프로세스를 오래 기다려야 하기 때문에 전체 시스템의 처리율이 떨어진다.
- 과거 일괄 시스템에서 사용하던 방식이다.

### 선점형과 비선점형이 혼재한 방식

- 선점형 스케줄링 방식에 비선점형 프로세스가 있을 수 있다.
- 비선점형 프로세스의 중요도를 매우 낮게 설정하여 선점형 프로세스에 영향을 덜 미치도록 한다.

## 2. 프로세스 우선순위

- 프로세스에 우선순위를 지정하여 우선순위가 높은 프로세스는 더 빨리 자주 실행할 수 있도록 한다.
- 커널 프로세스가 아닌 일반 프로세스의 경우 사용자가 프로세스의 우선순위를 조절할 수 있다.
  - 유닉스에서는 nice 명령어를 사용하여 프로세스의 우선순위를 조절한다.
  - 관리자(administrator)는 우선순위를 높일 수 있으나, 일반 계정은 우선순위를 낮추는 것만 가능하다.
- 시스템에 따라 높은 숫자가 높은 우선순위를 나타낼 수도 있고 낮은 숫자가 높은 우선순위를 나타낼 수도 있다.

## 3. CPU 집중 프로세스와 입출력 집중 프로세스

프로세스는 작업 형태에 따라 CPU 집중 프로세스와 입출력 집중 프로세스로 나눌 수 있다.

### CPU 집중 프로세스(CPU bound process)

- 수학 연산과 같이 CPU를 많이 사용하는 프로세스
- CPU 버스트(CPU burst, CPU를 사용하여 작업하는 실행상태)가 많다.

### 입출력 집중 프로세스(I/O bound process)

- 저장장치에서 데이터를 복사하는 일과 같이 입출력을 많이 사용하는 프로세스
- 입출력 버스트(I/O burst, 입출력을 요청하여 완료되기까지 기다리는 상태)가 많다.

### CPU 집중 프로세스와 입출력 집중 프로세스가 같이 있을 때

- CPU 집중 프로세스와 입출력 집중 프로세스가 같이 있을 때는 입출력 집중 프로세스를 먼저 실행 상태로 옮기는 것이 효율적이다.
  - 입출력 집중 프로세스가 실행 상태로 가면, 입출력 요구에 의해 대기 상태로 옮겨지기 때문에 다른 프로세스가 CPU를 사용할 수 있다.
  - 만약, CPU 집중 프로세스가 먼저 실행 상태로 들어가면 해당 타임 슬라이스를 다 쓸 때까지 다른 프로세스는 CPU를 사용할 수 없다.
- 입출력 집중 프로세스의 우선순위를 CPU 집중 프로세스보다 높이면 시스템 효율이 향상된다.
- 입출력 집중 프로세스가 CPU 집중 프로세스보다 실행 상태에 먼저 들어가는 경우를 사이클 훔치기(cycle stealing)라고 한다.

## 4. 전면 프로세스와 후면 프로세스

### 전면 프로세스

- GUI를 사용하는 운영체제에서 화면의 맨 앞에 놓인 프로세스
- 현재 입출력을 사용하는 프로세스로 사용자와 상호작용이 가능하여 상호작용 프로세스라고도 한다.
- 사용자의 요구에 즉각 반응해야 하므로, 후면 프로세스보다 우선순위가 높다.

### 후면 프로세스

- 사용자와 상호작용이 없는 프로세스
- 압축 프로그램처럼 사용자의 입력 없이 작동하기 때문에 일괄 작업 프로세스라고도 한다.

## 고려사항에 따른 우선순위 비교

- 커널 프로세스 > 일반 프로세스
- 전면 프로세스 > 후면 프로세스
- 대화형 프로세스 > 일괄 처리 프로세스
- 입출력 집중 프로세스 > CPU 집중 프로세스
